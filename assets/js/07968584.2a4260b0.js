"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([["740669"],{677386(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>r,toc:()=>l});var r=n(560260),s=n(474848),i=n(28453);let c={id:"account-attribute",title:"Account attribute",pagination_label:"Account Attribute",sidebar_label:"Account Attribute",sidebar_class_name:"accountAttribute",keywords:["transforms","operations","account","attribute"],description:"Look up an account for a particular source on an identity.",slug:"/extensibility/transforms/operations/account-attribute",tags:["Transforms","Transform Operations"]},o,a={},l=[{value:"Overview",id:"overview",level:2},{value:"Transform structure",id:"transform-structure",level:2},{value:"Top-level properties (required)",id:"top-level-properties-required",level:2},{value:"Attributes",id:"attributes",level:2},{value:"<code>attributes</code> (required)",id:"attributes-required",level:3},{value:"Required",id:"required",level:4},{value:"Optional",id:"optional",level:4},{value:"Examples",id:"examples",level:2}];function u(e){let t={admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.p,{children:"Use the account attribute transform to look up an account for a particular source on an identity and return a specific attribute value from that account."}),"\n",(0,s.jsx)(t.admonition,{title:"Other Considerations",type:"note",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If there are multiple accounts, then Identity Security Cloud by default takes the value from the oldest account (based on the account created date). You can configure this behavior by specifying ",(0,s.jsx)(t.code,{children:"accountSortAttribute"})," and ",(0,s.jsx)(t.code,{children:"accountSortDescending"})," attributes."]}),"\n",(0,s.jsxs)(t.li,{children:["If there are multiple accounts and the oldest account has a null attribute value, by default Identity Security Cloud moves to the next account that can have a value (if there are any). You can override this behavior with the ",(0,s.jsx)(t.code,{children:"accountReturnFirstLink"})," property."]}),"\n",(0,s.jsx)(t.li,{children:'You can filter the multiple accounts returned based on the data they contain so that you can target specific accounts. This is often used to target accounts that are "active" instead of those that are not.'}),"\n"]})}),"\n",(0,s.jsx)(t.h2,{id:"transform-structure",children:"Transform structure"}),"\n",(0,s.jsx)(t.p,{children:"The account attribute transform's configuration can take several attributes as inputs. The following example shows a fully configured transform with all required and optional attributes."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "attributes": {\n    "sourceName": "Workday",\n    "attributeName": "DEPARTMENT",\n    "accountSortAttribute": "created",\n    "accountSortDescending": true,\n    "accountReturnFirstLink": true,\n    "accountPropertyFilter": "(DEPARTMENT == \\"Engineering\\")",\n    "accountFilter": "!(nativeIdentity.startsWith(\\"*DELETED*\\"))"\n  },\n  "type": "accountAttribute",\n  "name": "Account Attribute Transform"\n}\n'})}),"\n",(0,s.jsx)(t.h2,{id:"top-level-properties-required",children:"Top-level properties (required)"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"type"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(required)"}),(0,s.jsx)(t.br,{}),"\n","Must be set to ",(0,s.jsx)(t.code,{children:"accountAttribute"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"name"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(required)"}),(0,s.jsx)(t.br,{}),"\n","The name of the transform as it will appear in the UI's dropdown menus."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"requiresPeriodicRefresh"})," ",(0,s.jsx)(t.code,{children:"boolean"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","Whether the transform logic should be reevaluated every evening as part of the identity refresh process. Default is ",(0,s.jsx)(t.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"attributes",children:"Attributes"}),"\n",(0,s.jsx)(t.p,{children:"The account attribute transform uses the following structure:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "type": "accountAttribute",\n  "name": "Transform Name",\n  "attributes": {\n    // Configuration properties go here\n  }\n}\n'})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)(t.h3,{id:"attributes-required",children:[(0,s.jsx)(t.code,{children:"attributes"})," (required)"]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"attributes"})," object contains the configuration for looking up account attributes."]}),"\n",(0,s.jsx)(t.h4,{id:"required",children:"Required"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"sourceName"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(required)"}),(0,s.jsx)(t.br,{}),"\n",'The source to search for accounts. This references a source\'s display name (e.g., "Active Directory"). If the display name changes, this reference must be updated.']}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Alternatives:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"applicationId"}),' - Reference by source\'s external GUID (e.g., "ff8081815a8b3925015a8b6adac901ff")']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"applicationName"}),' - Reference by source\'s immutable name (e.g., "Active Directory [source]")']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"attributeName"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(required)"}),(0,s.jsx)(t.br,{}),"\n","The name of the attribute on the account to return. This matches the account attribute name visible in the UI or source schema."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"optional",children:"Optional"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"accountSortAttribute"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","The attribute name to use when sorting returned accounts (if multiple exist). Accounts can be sorted by any schema attribute. Default is ",(0,s.jsx)(t.code,{children:'"created"'})," (ascending sort - oldest wins)."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"accountSortDescending"})," ",(0,s.jsx)(t.code,{children:"boolean"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","Controls the sort order when multiple accounts exist. Default is ",(0,s.jsx)(t.code,{children:"false"})," (ascending order)."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"accountReturnFirstLink"})," ",(0,s.jsx)(t.code,{children:"boolean"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","Controls which account value to return:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"true"})," - Returns the value from the first account in the sorted list, even if null"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"false"})," - Returns the first non-null value from the sorted accounts"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Default is ",(0,s.jsx)(t.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"accountFilter"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","A ",(0,s.jsx)(t.code,{children:"sailpoint.object.Filter"})," expression to narrow search results by querying the database. This filter is combined with the default source and identity filter using AND logic."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Available searchable attributes:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"nativeIdentity"})," - The account ID"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"displayName"})," - The account name"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"entitlements"})," - Whether the account has entitlements (boolean)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"accountPropertyFilter"})," ",(0,s.jsx)(t.code,{children:"string"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","A ",(0,s.jsx)(t.code,{children:"sailpoint.object.Filter"})," expression to filter accounts in memory after retrieval. All account attributes are available since filtering happens in memory."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Examples:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'(status != "terminated")'})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'(department == "Engineering")'})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:'(groups.containsAll({"Admin"}) || location == "Austin")'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"input"})," ",(0,s.jsx)(t.code,{children:"object"})," ",(0,s.jsx)(t.em,{children:"(optional)"}),(0,s.jsx)(t.br,{}),"\n","Explicitly defines the input data passed into the transform. If not provided, the transform uses input from the source and attribute combination configured in the UI."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(t.p,{children:"HR systems can have multiple HR records for a person, especially in rehire and conversion scenarios. In order to get the correct identity data, you must get data from only the latest active accounts."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"sourceName"}),' is "Corporate HR" because that is the name of the authoritative source.']}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"attributeName"}),' is "HIREDATE" because that is the attribute you want from the authoritative source.']}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"accountSortAttribute"}),' is "created" because you want to sort on created dates in case there are multiple accounts.']}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"accountSortDescending"})," is true because you want to sort based on the newest or latest account from the HR system."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"accountReturnFirstLink"})," is true because you want to return the value of HIREDATE, event if it is null."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"accountPropertyFilter"})," is filtering the accounts to look at only active accounts. Terminated accounts will not appear (assuming there are no data issues)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["You cannot use ",(0,s.jsx)(t.code,{children:"accountFilter"})," here because WORKER_STATUS__c is not a searchable attribute, but ",(0,s.jsx)(t.code,{children:"accountPropertyFilter"})," works instead."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Transform request body"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "attributes": {\n    "attributeName": "HIREDATE",\n    "sourceName": "Corporate HR",\n    "accountSortAttribute": "created",\n    "accountSortDescending": true,\n    "accountReturnFirstLink": true,\n    "accountPropertyFilter": "(WORKER_STATUS__c == \\"active\\")"\n  },\n  "type": "accountAttribute",\n  "name": "Account Attribute Transform"\n}\n'})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)("p",{children:"\xa0"}),"\n",(0,s.jsx)(t.p,{children:"When you are mapping values like a username, focus on primary accounts from a particular source or accounts that are not service accounts."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"sourceName"}),' is "Active Directory" because that is the source this data is coming from.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"attributeName"}),' is "sAMAccountName" because you are mapping the username of the user.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"accountFilter"})," is an expression filtering the accounts to make sure they are not service accounts."]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"accountPropertyFilter"})," also would have worked here."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Transform request body"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "attributes": {\n    "attributeName": "sAMAccountName",\n    "sourceName": "Active Directory",\n    "accountFilter": "!(displayName.startsWith(\\"SVC-\\"))"\n  },\n  "type": "accountAttribute",\n  "name": "Account Attribute Transform"\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"To determine whether an identity is a member of an entitlement."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"input"})," contains the condition to be evaluated (is member of an entitlement or not). If the user doesn't meet the below conditions, the ",(0,s.jsx)(t.code,{children:"firstValid"}),' retuns "FALSE".',"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"sourceName"}),' is "Active Directory" because that is the source this data is coming from.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"attributeName"}),' is "sAMAccountName" because you are mapping the username of the user.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"accountPropertyFilter"}),' is filtering accounts that are members of an entitlement that contains "All AD Users-rshwart".']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"table"})," contains the boolean results: FALSE or TRUE (default)."]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "attributes": {\n    "input": {\n      "attributes": {\n        "values": [\n          {\n            "attributes": {\n              "accountPropertyFilter": "(memberOf.contains(\\"All AD Users-rshwart\\"))",\n              "attributeName": "sAMAccountName",\n              "sourceName": "Active Directory"\n            },\n            "type": "accountAttribute"\n          },\n          "FALSE"\n        ]\n      },\n      "type": "firstValid"\n    },\n    "table": {\n      "FALSE": "FALSE",\n      "default": "TRUE"\n    }\n  },\n  "id": "Contains IT Access",\n  "type": "lookup"\n}\n'})})]})}function d(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453(e,t,n){n.d(t,{R:()=>c,x:()=>o});var r=n(296540);let s={},i=r.createContext(s);function c(e){let t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:t},e.children)}},560260(e){e.exports=JSON.parse('{"id":"extensibility/transforms/operations/account-attribute","title":"Account attribute","description":"Look up an account for a particular source on an identity.","source":"@site/docs/extensibility/transforms/operations/account-attribute.md","sourceDirName":"extensibility/transforms/operations","slug":"/extensibility/transforms/operations/account-attribute","permalink":"/docs/extensibility/transforms/operations/account-attribute","draft":false,"unlisted":false,"editUrl":"https://github.com/sailpoint-oss/developer.sailpoint.com/edit/main/docs/extensibility/transforms/operations/account-attribute.md","tags":[{"inline":true,"label":"Transforms","permalink":"/docs/tags/transforms"},{"inline":true,"label":"Transform Operations","permalink":"/docs/tags/transform-operations"}],"version":"current","lastUpdatedBy":"Tyler Mairose","lastUpdatedAt":1763490547000,"frontMatter":{"id":"account-attribute","title":"Account attribute","pagination_label":"Account Attribute","sidebar_label":"Account Attribute","sidebar_class_name":"accountAttribute","keywords":["transforms","operations","account","attribute"],"description":"Look up an account for a particular source on an identity.","slug":"/extensibility/transforms/operations/account-attribute","tags":["Transforms","Transform Operations"]},"sidebar":"openApiSidebar","previous":{"title":"Operations","permalink":"/docs/extensibility/transforms/operations"},"next":{"title":"Base64 Decode","permalink":"/docs/extensibility/transforms/operations/base64-decode"}}')}}]);