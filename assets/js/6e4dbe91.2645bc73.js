"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([["34022"],{22195:function(e,t,a){a.d(t,{Z:()=>n});let n={gettingStartedText:"gettingStartedText_JMdo",gettingStartedOne:"gettingStartedOne_K_Ye",gettingStartedTwo:"gettingStartedTwo_mB_Y",gettingStartedThree:"gettingStartedThree_wXm2",bold:"bold_xZlE",button:"button_mbLm",link:"link_Fnul",docCardIcon:"docCardIcon_LqXX",hideNavbar:"hideNavbar_m74n"}},897238:function(e,t,a){a.r(t),a.d(t,{default:()=>h});var n=a(785893),s=a(667294),i=a(942991),o=a(266397),r=a(22195),c=a(667814),l=a(697596),d=a(402933);let h=function(){let[e,t]=(0,s.useState)(""),[a,h]=(0,s.useState)(""),[u,g]=(0,s.useState)(""),[p,S]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),[w,x]=(0,s.useState)(""),{siteConfig:b}=(0,d.default)();(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search),a=e.get("code"),n=e.get("state");a&&t(a),n&&h(n),g(JSON.parse(atob(n)).id)},[]);let _=async()=>{if(!e)return void x("No auth code available");f(!0);try{let t=await (0,o.Z)(b.customFields.CMS_APP_API_ENDPOINT,e,a);t&&"Token added successfully"===t.message?(S(!0),x("Your application can now access your data, you can close this window")):x("Authentication failed: Unexpected response from server")}catch(e){x(`Error sending authentication: ${e.message}`)}f(!1)};return(0,n.jsx)(i.Z,{noFooter:!0,title:"SailPoint Application Authentication",children:(0,n.jsxs)("div",{className:r.Z.gettingStartedText,children:[(0,n.jsx)(c.G,{icon:l.DD4,style:{fontSize:"3rem"},className:r.Z.docCardIcon,size:"3x"}),(0,n.jsx)("h1",{className:r.Z.gettingStartedOne,children:"SailPoint Application Authentication"}),(0,n.jsx)("p",{className:r.Z.gettingStartedTwo,children:"Please confirm the application you are trying to access provides the same code as the one below"}),a&&(0,n.jsxs)("div",{className:r.Z.gettingStartedThree,children:[(0,n.jsxs)("p",{children:["Your confirmation code: ",(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:r.Z.bold,children:[u.slice(u.length-8,u.length-4).toUpperCase(),"-",u.slice(u.length-4,u.length).toUpperCase()]})]}),!p&&(0,n.jsx)("div",{className:r.Z.button,children:(0,n.jsx)("button",{onClick:_,disabled:m,className:r.Z.link,children:m?"Confirming and Sending...":"Grant Application Access"})})]}),w&&(0,n.jsx)("p",{className:r.Z.gettingStartedThree,children:w})]})})}},266397:function(e,t,a){a.d(t,{Z:()=>n});async function n(e,t,a){let n=new URL(`${e}sailapps/auth/code`);try{let e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t,state:a})});if(!e.ok){let t=await e.json().catch(()=>({message:"Unknown error"}));throw Error(t.message||`HTTP ${e.status}: ${e.statusText}`)}return await e.json()}catch(e){if(e instanceof Error)throw e;throw Error("Network error occurred")}}}}]);