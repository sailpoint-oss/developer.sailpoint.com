"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([["595750"],{858494(e,t,a){a.d(t,{A:()=>n});let n={gettingStartedText:"gettingStartedText_JMdo",gettingStartedOne:"gettingStartedOne_K_Ye",gettingStartedTwo:"gettingStartedTwo_mB_Y",gettingStartedThree:"gettingStartedThree_wXm2",bold:"bold_xZlE",button:"button_mbLm",link:"link_Fnul",docCardIcon:"docCardIcon_LqXX",hideNavbar:"hideNavbar_m74n"}},434915(e,t,a){a.r(t),a.d(t,{default:()=>h});var n=a(474848),s=a(296540),r=a(278328),i=a(733610),o=a(858494),c=a(46784),l=a(766188),d=a(610898);let h=function(){let[e,t]=(0,s.useState)(""),[a,h]=(0,s.useState)(""),[g,u]=(0,s.useState)(""),[p,S]=(0,s.useState)(!1),[m,w]=(0,s.useState)(!1),[f,A]=(0,s.useState)(""),{siteConfig:b}=(0,d.default)();(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search),a=e.get("code"),n=e.get("state");a&&t(a),n&&h(n),u(JSON.parse(atob(n)).id)},[]);let x=async()=>{if(!e)return void A("No auth code available");w(!0);try{let t=await (0,i.U)(b.customFields.CMS_APP_API_ENDPOINT,e,a);t&&"Token added successfully"===t.message?(S(!0),A("Your application can now access your data, you can close this window")):A("Authentication failed: Unexpected response from server")}catch(e){A(`Error sending authentication: ${e.message}`)}w(!1)};return(0,n.jsx)(r.A,{noFooter:!0,title:"SailPoint Application Authentication",children:(0,n.jsxs)("div",{className:o.A.gettingStartedText,children:[(0,n.jsx)(c.g,{icon:l.bMg,style:{fontSize:"3rem"},className:o.A.docCardIcon,size:"3x"}),(0,n.jsx)("h1",{className:o.A.gettingStartedOne,children:"SailPoint Application Authentication"}),(0,n.jsx)("p",{className:o.A.gettingStartedTwo,children:"Please confirm the application you are trying to access provides the same code as the one below"}),a&&(0,n.jsxs)("div",{className:o.A.gettingStartedThree,children:[(0,n.jsxs)("p",{children:["Your confirmation code: ",(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:o.A.bold,children:[g.slice(g.length-8,g.length-4).toUpperCase(),"-",g.slice(g.length-4,g.length).toUpperCase()]})]}),!p&&(0,n.jsx)("div",{className:o.A.button,children:(0,n.jsx)("button",{onClick:x,disabled:m,className:o.A.link,children:m?"Confirming and Sending...":"Grant Application Access"})})]}),f&&(0,n.jsx)("p",{className:o.A.gettingStartedThree,children:f})]})})}},733610(e,t,a){a.d(t,{U:()=>n});async function n(e,t,a){let n=new URL(`${e}sailapps/auth/code`);try{let e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t,state:a})});if(!e.ok){let t=await e.json().catch(()=>({message:"Unknown error"}));throw Error(t.message||`HTTP ${e.status}: ${e.statusText}`)}return await e.json()}catch(e){if(e instanceof Error)throw e;throw Error("Network error occurred")}}}}]);