"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([["105995"],{627882(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var r=t(648128),s=t(474848),i=t(28453);let a={id:"date-math",title:"Date Math",pagination_label:"Date Math",sidebar_label:"Date Math",sidebar_class_name:"dateMath",keywords:["transforms","operations","date","math"],description:"Add, subtract, and round components of a timestamp's incoming value.",slug:"/extensibility/transforms/operations/date-math",tags:["Transforms","Transform Operations"]},o,d={},l=[{value:"Overview",id:"overview",level:2},{value:"Transform structure",id:"transform-structure",level:2},{value:"Top-level properties (required)",id:"top-level-properties-required",level:2},{value:"Attributes",id:"attributes",level:2},{value:"<code>attributes</code> (required)",id:"attributes-required",level:3},{value:"Required",id:"required",level:4},{value:"Optional",id:"optional",level:4},{value:"Examples",id:"examples",level:2}];function h(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:'Use the date math transform to add, subtract, and round components of a timestamp\'s incoming value. It also allows you to work with a referential value of "now" to run operations against the current date and time instead of a fixed value.'}),"\n",(0,s.jsxs)(n.p,{children:["The output format for the DateMath transform is \"yyyy-MM-dd'T'HH",":mm",'". When you use this transform inside another transform (e.g., ',(0,s.jsx)(n.a,{href:"/docs/extensibility/transforms/operations/date-compare",children:"dateCompare"}),"), make sure to convert to ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})," first."]}),"\n",(0,s.jsx)(n.admonition,{title:"Other Considerations",type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The input datetime value must always be in ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601 format"}),", in UTC time zone:"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Use this format: \"yyyy-MM-dd'T'HH:mm",":ss",'.SSSZ", i.e., "2020-10-28T12:00:00.000Z".']}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The dateFormat transform can help get data into this format."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The industry standard for rounding is actually date/time truncation. When the transform is rounding down, it truncates the the fractional value from the incoming data. When the transform is rounding up, it truncates the fractional value and adds the next unit of time. For examples, refer to the ",(0,s.jsx)(n.a,{href:"#transform-structure",children:"Transform Structure"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'The "week" unit of time is not supported as a metric when you are rounding. Rounding up or down a week will result in an error.'}),"\n",(0,s.jsxs)(n.li,{children:['If you are using the "now" keyword and you have also applied an input date as the implicitly or explicitly definted input parameter, the transform prefers using "now" and ignores the data in the ',(0,s.jsx)(n.code,{children:"input"})," attribute."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"transform-structure",children:"Transform structure"}),"\n",(0,s.jsxs)(n.p,{children:["The date math transform takes the input value and executes addition, subtraction and/or rounding operations to that value based on an ",(0,s.jsx)(n.code,{children:"expression"})," configuration value. As indicated earlier, the input datetime must be in ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601 format"}),". The ",(0,s.jsx)(n.code,{children:"expression"})," value leverages the following abbreviations to indicate which date or time component to evaluate:"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'"y" - year'}),"\n",(0,s.jsx)(n.li,{children:'"M" - month'}),"\n",(0,s.jsx)(n.li,{children:'"w" - week'}),"\n",(0,s.jsx)(n.li,{children:'"d" - day'}),"\n",(0,s.jsx)(n.li,{children:'"h" - hour'}),"\n",(0,s.jsx)(n.li,{children:'"m" - minute'}),"\n",(0,s.jsx)(n.li,{children:'"s" - second'}),"\n",(0,s.jsx)(n.li,{children:'"now" - the current instant in time'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Also, the operational logic is defined by usage of one of the following symbols:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'"+" - add; This must be followed by a valid time unit.'}),"\n",(0,s.jsx)(n.li,{children:'"-" - subtract; This must be followed by a valid time unit.'}),"\n",(0,s.jsx)(n.li,{children:'"/" - round; This must be followed by a valid time unit.'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Some examples of expressions are:"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"expression": "now"'})," returns the current date and time."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"expression": "now/h"'})," returns the current date and time, rounded to the hour."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"expression": "now+1w"'})," returns one week from the current date and time."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"expression": "now+1y+1M+2d-4h+1m-3s/s"'})," returns the current date and time plus one year, one month, two days, minus four hours, plus one minute and minus three seconds, rounded to the second."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"expression": "+3M"'})," returns the date and time that would be three months more than the value provided as an input to the transform."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "attributes": {\n    "expression": "+3M/h",\n    "roundUp": true,\n    "input": {\n      "attributes": {\n        "sourceName": "HR Source",\n        "attributeName": "startDate"\n      },\n      "type": "accountAttribute"\n    }\n  },\n  "type": "dateMath",\n  "name": "Test Date Math Transform"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"top-level-properties-required",children:"Top-level properties (required)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"type"})," ",(0,s.jsx)(n.code,{children:"string"})," ",(0,s.jsx)(n.em,{children:"(required)"}),(0,s.jsx)(n.br,{}),"\n","Must be set to ",(0,s.jsx)(n.code,{children:"dateMath"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"name"})," ",(0,s.jsx)(n.code,{children:"string"})," ",(0,s.jsx)(n.em,{children:"(required)"}),(0,s.jsx)(n.br,{}),"\n","The name of the transform as it will appear in the UI's dropdown menus."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"requiresPeriodicRefresh"})," ",(0,s.jsx)(n.code,{children:"boolean"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)(n.br,{}),"\n","Whether the transform logic should be reevaluated every evening as part of the identity refresh process. Default is ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"attributes",children:"Attributes"}),"\n",(0,s.jsx)(n.p,{children:"The date math transform uses the following structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "dateMath",\n  "name": "Transform Name",\n  "attributes": {\n    "expression": "now-5d/d",\n    "roundUp": false\n  }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"attributes-required",children:[(0,s.jsx)(n.code,{children:"attributes"})," (required)"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"attributes"})," object contains the date math configuration."]}),"\n",(0,s.jsx)(n.h4,{id:"required",children:"Required"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"expression"})," ",(0,s.jsx)(n.code,{children:"string"})," ",(0,s.jsx)(n.em,{children:"(required)"}),(0,s.jsx)(n.br,{}),"\n","A string value of the date and time components to operate on, along with the math operations to execute. Multiple operations on multiple components are supported."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Abbreviations:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y"})," - year"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"M"})," - month"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"w"})," - week"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"d"})," - day"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"h"})," - hour"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"m"})," - minute"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"s"})," - second"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"now"})," - current instant in time"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Operators:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"+"})," - add (must be followed by a valid time unit)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-"})," - subtract (must be followed by a valid time unit)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/"})," - round (must be followed by a valid time unit)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"optional",children:"Optional"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"roundUp"})," ",(0,s.jsx)(n.code,{children:"boolean"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)(n.br,{}),"\n","Whether the transform rounds up or down when the expression defines a rounding (",(0,s.jsx)(n.code,{children:"/"}),") operation."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"true"})," - Round up (truncate and add one unit)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"})," - Round down (truncate only)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Default is ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"input"})," ",(0,s.jsx)(n.code,{children:"object"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)(n.br,{}),"\n","Explicitly defines the input data passed into the transform. If not provided, the transform uses input from the source and attribute combination configured in the UI."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"This transform takes the current date, subtracts five days from it, and rounds down to the lowest day."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Transform request body"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "attributes": {\n    "expression": "now-5d/d",\n    "roundUp": false\n  },\n  "type": "dateMath",\n  "name": "Date Math Transform"\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)("p",{children:"\xa0"}),"\n",(0,s.jsxs)(n.p,{children:["This transform takes the ",(0,s.jsx)(n.code,{children:"startDate"}),' attribute from a user\'s record in the "HR Source," converts it from its native format to an ',(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601-formatted"})," string, and then adds twelve hours to it. The final value is then rounded up to the next second."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Transform request body"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "attributes": {\n    "expression": "+12h/s",\n    "roundUp": true,\n    "input": {\n      "attributes": {\n        "input": {\n          "attributes": {\n            "sourceName": "HR Source",\n            "attributeName": "startDate"\n          },\n          "type": "accountAttribute"\n        },\n        "inputFormat": "MMM dd yyyy, HH:mm:ss.SSS",\n        "outputFormat": "ISO8601"\n      },\n      "type": "dateFormat"\n    }\n  },\n  "type": "dateMath",\n  "name": "Date Math Transform"\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)("p",{children:"\xa0"}),"\n",(0,s.jsxs)(n.p,{children:["This transform take the ",(0,s.jsx)(n.code,{children:"HIREDATE"})," from Workday and converts it to ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})," to be used in the Date Math transform. The Date Math transform then creates a new Date of ",(0,s.jsx)(n.code,{children:"HIREDATE + 1"}),". Since that is then outputted in the format \"yyyy-MM-dd'T'HH",":mm",'", you can then use it in a ',(0,s.jsx)(n.a,{href:"/docs/extensibility/transforms/operations/date-format",children:"dateFormat"})," transform to give a WIN32 formatted date."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Transform request body"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "dateFormat",\n  "name": "WD - HireDate",\n  "attributes": {\n    "input": {\n      "attributes": {\n        "expression": "+1d",\n        "input": {\n          "attributes": {\n            "input": {\n              "attributes": {\n                "attributeName": "HIREDATE",\n                "sourceName": "Workday"\n              },\n              "type": "accountAttribute"\n            },\n            "inputFormat": "MM/dd/yyyy",\n            "outputFormat": "ISO8601"\n          },\n          "type": "dateFormat"\n        },\n        "roundUp": true\n      },\n      "type": "dateMath"\n    },\n    "inputFormat": "yyyy-MM-dd\'T\'HH:mm",\n    "outputFormat": "EPOCH_TIME_WIN32"\n  }\n}\n'})})]})}function c(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var r=t(296540);let s={},i=r.createContext(s);function a(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},648128(e){e.exports=JSON.parse('{"id":"extensibility/transforms/operations/date-math","title":"Date Math","description":"Add, subtract, and round components of a timestamp\'s incoming value.","source":"@site/docs/extensibility/transforms/operations/date-math.md","sourceDirName":"extensibility/transforms/operations","slug":"/extensibility/transforms/operations/date-math","permalink":"/docs/extensibility/transforms/operations/date-math","draft":false,"unlisted":false,"editUrl":"https://github.com/sailpoint-oss/developer.sailpoint.com/edit/main/docs/extensibility/transforms/operations/date-math.md","tags":[{"inline":true,"label":"Transforms","permalink":"/docs/tags/transforms"},{"inline":true,"label":"Transform Operations","permalink":"/docs/tags/transform-operations"}],"version":"current","lastUpdatedBy":"Tyler Mairose","lastUpdatedAt":1763490547000,"frontMatter":{"id":"date-math","title":"Date Math","pagination_label":"Date Math","sidebar_label":"Date Math","sidebar_class_name":"dateMath","keywords":["transforms","operations","date","math"],"description":"Add, subtract, and round components of a timestamp\'s incoming value.","slug":"/extensibility/transforms/operations/date-math","tags":["Transforms","Transform Operations"]},"sidebar":"openApiSidebar","previous":{"title":"Date Format","permalink":"/docs/extensibility/transforms/operations/date-format"},"next":{"title":"Decompose Diacritical Marks","permalink":"/docs/extensibility/transforms/operations/decompose-diacritical-marks"}}')}}]);