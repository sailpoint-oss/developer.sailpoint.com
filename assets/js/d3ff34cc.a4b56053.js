"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([["866432"],{6006(e,n,t){t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var a=t(613057),s=t(474848),r=t(28453);let l={id:"cli-template-search",title:"Search Template",pagination_label:"CLI Templates Search",sidebar_label:"Search",sidebar_position:10,sidebar_class_name:"cli-template-search",keywords:["cli","template","search"],description:"Learn about the commands you can use to run search templates from the CLI.",slug:"/tools/cli/templates/search",tags:["CLI"]},o,i={},c=[];function p(e){let n={a:"a",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Use search templates to run predefined search queries from the CLI."}),"\n",(0,s.jsx)(n.p,{children:"This is an example of a template file with 3 search templates populated:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "name": "all-account-unlocks",\n    "description": "All account unlocks in the tenant for a given time range",\n    "variables": [{"name": "days", "prompt": "Days before today"}],\n    "searchQuery": {\n      "indices": ["events"],\n      "queryType": null,\n      "queryVersion": null,\n      "query": {\n        "query": "(USER_UNLOCK_PASSED AND created:[now-{{days}}d TO now])"\n      },\n      "sort": [],\n      "searchAfter": []\n    }\n  },\n  {\n    "name": "all-provisioning-events",\n    "description": "All provisioning events in the tenant for a given time range",\n    "variables": [{"name": "days", "prompt": "Days before today"}],\n    "searchQuery": {\n      "indices": ["events"],\n      "queryType": null,\n      "queryVersion": null,\n      "query": {\n        "query": "(type:provisioning AND created:[now-{{days}}d TO now])"\n      },\n      "sort": [],\n      "searchAfter": []\n    }\n  },\n  {\n    "name": "all-provisioning-events-90-days",\n    "description": "All provisioning events in the tenant for a given time range",\n    "variables": [],\n    "searchQuery": {\n      "indices": ["events"],\n      "queryType": null,\n      "queryVersion": null,\n      "query": {\n        "query": "(type:provisioning AND created:[now-90d TO now])"\n      },\n      "sort": [],\n      "searchAfter": []\n    }\n  }\n]\n'})}),"\n",(0,s.jsx)(n.p,{children:"This is the search template anatomy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "all-account-unlocks",\n'})}),"\n",(0,s.jsx)(n.p,{children:"This is the search template's name."}),"\n",(0,s.jsxs)(n.p,{children:["It displays in the template list when you run ",(0,s.jsx)(n.code,{children:"sail search template"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You can also provide this name as an argument: ",(0,s.jsx)(n.code,{children:"sail search template all-account-unlocks"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'  "description": "All account unlocks in the tenant for a given time range"\n'})}),"\n",(0,s.jsx)(n.p,{children:"This is the search template's description."}),"\n",(0,s.jsxs)(n.p,{children:["It displays following the template name in the ",(0,s.jsx)(n.code,{children:"sail search template"})," list."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'  "variables": [{"name": "days", "prompt": "Days before today"}],\n'})}),"\n",(0,s.jsx)(n.p,{children:"Use variables to dynamically populate values in the following content during command run time."}),"\n",(0,s.jsxs)(n.p,{children:["For example, the variable in this template is configured so you can choose how many days back you want to search for account unlock events. When you run ",(0,s.jsx)(n.code,{children:"sail search template all-account-unlocks"}),", a prompt displays, ",(0,s.jsx)(n.code,{children:"Input Days before today:"})," The number you enter will then populate anywhere the variable is used in the following object, and then the query runs."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'  "searchQuery": {\n    "indices": ["events"],\n    "queryType": null,\n    "queryVersion": null,\n    "query": {\n      "query": "(USER_UNLOCK_PASSED AND created:[now-{{days}}d TO now])" },\n      "sort": [], "searchAfter": []\n      }\n  }\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Everything inside this searchQuery object matches the standard format of an ",(0,s.jsx)(n.a,{href:"https://documentation.sailpoint.com/saas/help/search/building-query.html",children:"Identity Security Cloud search query"}),". A limited number of examples are provided ",(0,s.jsx)(n.a,{href:"https://developer.sailpoint.com/docs/api/v3/search-post",children:"here"}),", but the searchQuery object is mapped to the full search object. This means that you can add any search query values missing from this object."]})]})}function d(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},28453(e,n,t){t.d(n,{R:()=>l,x:()=>o});var a=t(296540);let s={},r=a.createContext(s);function l(e){let n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(r.Provider,{value:n},e.children)}},613057(e){e.exports=JSON.parse('{"id":"tools/cli/Templates/cli-template-search","title":"Search Template","description":"Learn about the commands you can use to run search templates from the CLI.","source":"@site/docs/tools/cli/Templates/search.md","sourceDirName":"tools/cli/Templates","slug":"/tools/cli/templates/search","permalink":"/docs/tools/cli/templates/search","draft":false,"unlisted":false,"editUrl":"https://github.com/sailpoint-oss/developer.sailpoint.com/edit/main/docs/tools/cli/Templates/search.md","tags":[{"inline":true,"label":"CLI","permalink":"/docs/tags/cli"}],"version":"current","lastUpdatedBy":"darrell-thobe-sp","lastUpdatedAt":1713436265000,"sidebarPosition":10,"frontMatter":{"id":"cli-template-search","title":"Search Template","pagination_label":"CLI Templates Search","sidebar_label":"Search","sidebar_position":10,"sidebar_class_name":"cli-template-search","keywords":["cli","template","search"],"description":"Learn about the commands you can use to run search templates from the CLI.","slug":"/tools/cli/templates/search","tags":["CLI"]},"sidebar":"openApiSidebar","previous":{"title":"CLI Templates Report","permalink":"/docs/tools/cli/templates/report"},"next":{"title":"CLI Templates SPConfig","permalink":"/docs/tools/cli/templates/spconfig"}}')}}]);