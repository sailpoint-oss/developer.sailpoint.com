<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-extensibility/rules/guides/your-first-rule" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Your first rule | SailPoint Developer Community</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true property=og:url content=https://developer.sailpoint.com><meta data-rh=true property=og:type content=website><meta data-rh=true property=og:image content=https://developer.sailpoint.com/img/SailPoint-Logo-OG.png><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true name=twitter:domain content=developer.sailpoint.com><meta data-rh=true name=twitter:url content=https://developer.sailpoint.com><meta data-rh=true name=twitter:title content="SailPoint Developer Community"><meta data-rh=true name=twitter:description content="The SailPoint Developer Community has everything you need to build, extend, and automate scalable identity solutions."><meta data-rh=true name=twitter:image content=https://developer.sailpoint.com/img/SailPoint-Logo-OG.png><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Your first rule | SailPoint Developer Community"><meta data-rh=true name=description content="Learn to build your first rule!"><meta data-rh=true property=og:description content="Learn to build your first rule!"><meta data-rh=true name=keywords content=rules,guides,first><link data-rh=true rel=icon href=/img/SailPoint-Logo-Icon.ico><link data-rh=true rel=canonical href=https://developer.sailpoint.com/docs/extensibility/rules/guides/your-first-rule><link data-rh=true rel=alternate href=https://developer.sailpoint.com/docs/extensibility/rules/guides/your-first-rule hreflang=en><link data-rh=true rel=alternate href=https://developer.sailpoint.com/docs/extensibility/rules/guides/your-first-rule hreflang=x-default><link data-rh=true rel=preconnect href=https://TB01H1DFAM-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/","name":"Documentation","position":1},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility","name":"Extensibility","position":2},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility/rules","name":"Rules","position":3},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility/rules/guides","name":"Guides","position":4},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility/rules/guides/your-first-rule","name":"Your First Rule","position":5}]}</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-KB3S9VMT")</script><script src=https://code.jquery.com/jquery-3.7.1.min.js async></script><link rel=stylesheet href=/assets/css/styles.22c283ba.css><script src=/assets/js/runtime~main.7600be63.js defer></script><script src=/assets/js/main.b310a7c2.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KB3S9VMT" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/SailPoint-Developer-Community-Lockup.png alt="SailPoint Developer Community" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/SailPoint-Developer-Community-Inverse-Lockup.png alt="SailPoint Developer Community" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Documentation</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs>Identity Security Cloud</a><li><a class=dropdown__link href=/docs/iiq>IdentityIQ</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>API specifications</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/api/v2025>Identity Security Cloud</a><li><a class=dropdown__link href=/docs/api/iiq>IdentityIQ</a><li><a class=dropdown__link href=/docs/api/nerm/v1>NERM</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Tools</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/tools/sdk>SDKs</a><li><a class=dropdown__link href=/docs/tools/cli>CLI</a><li><a class=dropdown__link href=/tools/escaping-tool-formatter>Escaping Tool Formatter</a><li><a class=dropdown__link href=/tools/json-path-evaluator>JSON Path Evaluator</a><li><a class=dropdown__link href=/docs/tools/rule-development-kit>Rule Development Kit</a><li><a class=dropdown__link href=/docs/tools/ui-development-kit>UI Development Kit</a><li><a class=dropdown__link href=/docs/tools/community-toolbox>Community Toolbox</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Community</a><ul class=dropdown__menu><li><a href=https://developer.sailpoint.com/discuss/ target=_blank rel="noopener noreferrer" class=dropdown__link>Developer forum</a><li><a class=dropdown__link href=/colab>CoLab marketplace</a><li><a class=dropdown__link href=/blog>Developer blog</a><li><a class=dropdown__link href=/ambassadors>Ambassador program</a></ul></div><a class="navbar__item navbar__link" href=/videos>Video library</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Support</a><ul class=dropdown__menu><li><a href="https://support.sailpoint.com/csm?id=sc_cat_item&sys_id=a78364e81bec151050bcc8866e4bcb5c&referrer=popular_items" target=_blank rel="noopener noreferrer" class=dropdown__link>Submit Support Ticket<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://community.sailpoint.com target=_blank rel="noopener noreferrer" class=dropdown__link>Compass<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://status.sailpoint.com/ target=_blank rel="noopener noreferrer" class=dropdown__link>Platform Status<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><a href=https://github.com/sailpoint-oss target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="SailPoint Open-source GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--active" href=/docs/>Documentation</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/extensibility>Extensibility</a><button aria-label="Collapse sidebar category 'Extensibility'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed transforms"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/transforms>Transforms</a><button aria-label="Expand sidebar category 'Transforms'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed mcp"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/mcp>MCP Server</a><button aria-label="Expand sidebar category 'MCP Server'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item rules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/extensibility/rules>Rules</a><button aria-label="Collapse sidebar category 'Rules'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item Rules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/extensibility/rules/guides>Guides</a><button aria-label="Collapse sidebar category 'Guides'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item yourFirstRule"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/extensibility/rules/guides/your-first-rule>Your First Rule</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed cloudExecutedRules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/rules/cloud-rules>Cloud Executed Rules</a><button aria-label="Expand sidebar category 'Cloud Executed Rules'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed cloudExecutedRules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/rules/connector-rules>Connector Executed Rules</a><button aria-label="Expand sidebar category 'Connector Executed Rules'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item ruleUtility"><a class=menu__link tabindex=0 href=/docs/extensibility/rules/rule-utility>Identity Security Cloud Rule Utility</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/extensibility/rules/java-docs>Java Docs</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed eventTriggers"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/event-triggers>Event Triggers</a><button aria-label="Expand sidebar category 'Event Triggers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed Configuration Management"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/configuration-management>Configuration Management</a><button aria-label="Expand sidebar category 'Configuration Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/connectivity>Connectivity</a><button aria-label="Expand sidebar category 'Connectivity'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tools>Tools</a><button aria-label="Expand sidebar category 'Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/reporting>Reporting</a><button aria-label="Expand sidebar category 'Reporting'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/guides>Guides</a><button aria-label="Expand sidebar category 'Guides'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://documentation.sailpoint.com target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" tabindex=0>Product Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/><span>Documentation</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/extensibility><span>Extensibility</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/extensibility/rules><span>Rules</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/extensibility/rules/guides><span>Guides</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Your First Rule</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Your first rule</h1></header><div class=row><div class="col col--12 markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>In this guide you'll learn the end to end process of writing a cloud rule to generate a username for use in account creation.</p>
<ul>
<li><a href=#attribute-generator-rule>Attribute generator rule overview</a></li>
<li><a href=#username-requirements>Username requirements</a></li>
<li><a href=#write-the-rule>Writing the rule</a></li>
<li><a href=#validate-the-rule>Validating the rule</a></li>
<li><a href=#submit-for-rule-review>Submitting for rule review</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=attribute-generator-rule>Attribute generator Rule<a href=#attribute-generator-rule class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>This rule generates complex account attribute values during provisioning, e.g. when creating an account. You would typically use this rule when you are creating an account to generate attributes like usernames.</p>
<p>This rule executes in the Identity Security Cloud (ISC) cloud, and it has read-only access to ISC data models, but it doesn't have access to on-premise sources or connectors.</p>
<p>Refer to <a href=/docs/extensibility/rules/cloud-rules/account-profile-attribute-generator>Attribute Generator Rule</a> to learn more about the inputs available to you during the rule execution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=username-requirements>Username requirements<a href=#username-requirements class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>With this rule you'll be able to generate a unique username and check for uniqueness for an Active Directory source.</p>
<p>The unique username will be generated as follows.</p>
<ul>
<li>Retrieve the first name, last name and other name of the user.</li>
<li>If the other name is not available, use the first name.</li>
<li>First, check the length of (othername | firstname).lastname. If it is greater than 12 then use the first 12 letters of the first name, add a period <code>.</code> and append the first character of the last name. Convert to lowercase. Check for uniqueness.</li>
<li>If it is not unique then use the first 12 characters of the first name and add a period <code>.</code> and append the second character of the last name. Convert to lowercase. Check for uniqueness.</li>
<li>Follow this pattern until a unique username is found. If all characters of the last name are exhausted, return null.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example-outputs>Example outputs<a href=#example-outputs class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>The following example shows the output if the other name is not null, the othername.lastname is less than 12 characters and the username <code>james.doe</code> after being lowercased is unique.</p>
<div style=text-align:center></div>
<p>The next example shows the case where the other name if null, the firstname.lastname is greater than 12 characters and the firstname.firstCharacterOfLastName lowercased <code>alexander.s</code> is not unique. The rule will then use the firstname.secondCharacterOfLastName lowercased <code>alexander.m</code>.</p>
<div style=text-align:center></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=write-the-rule>Write the Rule<a href=#write-the-rule class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Create a new xml file with this naming scheme <a href=/docs/extensibility/rules/cloud-rules#review-guidelines>rule file naming</a>.</p>
<p>Open that file in your preferred editor.</p>
<p>For the attribute generator rule, you can begin with this template:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token prolog" style=color:#999988;font-style:italic>&lt;?xml version='1.0' encoding='UTF-8'?></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token doctype punctuation" style=color:#393A34;font-style:italic>&lt;!</span><span class="token doctype doctype-tag" style=color:#999988;font-style:italic>DOCTYPE</span><span class="token doctype" style=color:#999988;font-style:italic> </span><span class="token doctype name" style=color:#999988;font-style:italic>Rule</span><span class="token doctype" style=color:#999988;font-style:italic> </span><span class="token doctype name" style=color:#999988;font-style:italic>PUBLIC</span><span class="token doctype" style=color:#999988;font-style:italic> </span><span class="token doctype string" style=color:#e3116c;font-style:italic>"sailpoint.dtd"</span><span class="token doctype" style=color:#999988;font-style:italic> </span><span class="token doctype string" style=color:#e3116c;font-style:italic>"sailpoint.dtd"</span><span class="token doctype punctuation" style=color:#393A34;font-style:italic>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>Rule</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>name</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>Example Rule</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag" style=color:#00009f> </span><span class="token tag attr-name" style=color:#00a4db>type</span><span class="token tag attr-value punctuation attr-equals" style=color:#393A34>=</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag attr-value" style=color:#e3116c>AttributeGenerator</span><span class="token tag attr-value punctuation" style=color:#393A34>"</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>Description</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain">Describe your rule here.</span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>Description</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token tag punctuation" style=color:#393A34>&lt;</span><span class="token tag" style=color:#00009f>Source</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token cdata" style=color:#999988;font-style:italic>&lt;![CDATA[</span><br></span><span class=token-line style=color:#393A34><span class="token cdata" style=color:#999988;font-style:italic></span><br></span><span class=token-line style=color:#393A34><span class="token cdata" style=color:#999988;font-style:italic>  // Add your logic here.</span><br></span><span class=token-line style=color:#393A34><span class="token cdata" style=color:#999988;font-style:italic></span><br></span><span class=token-line style=color:#393A34><span class="token cdata" style=color:#999988;font-style:italic>  ]]></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>Source</span><span class="token tag punctuation" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token tag punctuation" style=color:#393A34>&lt;/</span><span class="token tag" style=color:#00009f>Rule</span><span class="token tag punctuation" style=color:#393A34>></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=add-imports-and-generateusername-function>Add imports and generateUsername function<a href=#add-imports-and-generateusername-function class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>Add a description and the necessary imports for your rule. This rule will need <code>Identity</code> and <code>Application</code> from <code>sailpoint.object</code>, as well as a few other classes for working with strings. Also add the global constant, <code>MAX_USERNAME_LENGTH</code> - in this example, this rule will use the value of 12.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>?</span><span class="token plain">xml version</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'1.0'</span><span class="token plain"> encoding</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'UTF-8'</span><span class="token operator" style=color:#393A34>?</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token constant" style=color:#36acaa>DOCTYPE</span><span class="token plain"> </span><span class="token class-name">Rule</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>PUBLIC</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token class-name">Rule</span><span class="token plain"> name</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"ADUserNameGenerator"</span><span class="token plain"> type</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"AttributeGenerator"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Description</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token class-name">This</span><span class="token plain"> will generate a unique username </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> active directory</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Description</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Source</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>[</span><span class="token constant" style=color:#36acaa>CDATA</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>tools</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">GeneralException</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">ArrayList</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>api</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">List</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>org</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>apache</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>commons</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>lang</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Global constant</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>generateUsername</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token operator" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Source</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Rule</span><span class="token operator" style=color:#393A34>></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=get-the-firstname-lastname-and-othername-attributes-and-sanitize-input>Get the firstName, lastName, and otherName attributes and sanitize input<a href=#get-the-firstname-lastname-and-othername-attributes-and-sanitize-input class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>?</span><span class="token plain">xml version</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'1.0'</span><span class="token plain"> encoding</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'UTF-8'</span><span class="token operator" style=color:#393A34>?</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token constant" style=color:#36acaa>DOCTYPE</span><span class="token plain"> </span><span class="token class-name">Rule</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>PUBLIC</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token class-name">Rule</span><span class="token plain"> name</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"Example Rule"</span><span class="token plain"> type</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"AttributeGenerator"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Description</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token class-name">This</span><span class="token plain"> will generate a unique username </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> active directory</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Description</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Source</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>[</span><span class="token constant" style=color:#36acaa>CDATA</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>tools</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">GeneralException</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">ArrayList</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>api</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">List</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>org</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>apache</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>commons</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>lang</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Global constant</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>generateUsername</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>trimToNull</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> firstName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            lastName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>trimToNull</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> lastName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            otherName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getStringAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"otherName"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">firstName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                lastName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">otherName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                otherName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> otherName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>||</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> lastName </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from generateADUsername method. No last name and other name for user"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// If other name is available then we are using firstname as other name</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>isEmpty</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">otherName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> otherName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// This will hold the final username;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Final first name and last name for user: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>" "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">lastName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// This will hold the final username;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> fullName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> newUsername </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token operator" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Source</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Rule</span><span class="token operator" style=color:#393A34>></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=logic-if-the-proposed-username-exceeds-the-max-length>Logic if the proposed username exceeds the max length<a href=#logic-if-the-proposed-username-exceeds-the-max-length class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>If the full name exceeds the <code>MAX_USERNAME_LENGTH</code> the rule will check whether the length of the first name is greater than the MAX_USERNAME_LENGTH minus 2 (in the case below 10) characters of the first name - this allows for the period <code>.</code> and the first character of the last name to take up the remaining two characters. If the first name is less than the <code>MAX_USERNAME_LENGTH</code> the rule will use the full first name for the username with the period <code>.</code> and the first character of the last name appended. After the username is determined, a call to <code>isUnique( username )</code> is made. This uses the ISCRuleUtil class to check Active Directory if the username exists. You will add in that function shortly.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">fullName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> firstNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Checking if the firstname length is more than the MAX minus 2 chars.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//If firstname is more then the MAX minus 2 we are picking MAX minus 2 characters from the firstname.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">firstNameLength </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//lastNameLength represents the current pointer of lastlength.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>substring</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//If firstname is less than or equal to the MAX minus 2 chars then we are considering full firstname for username generation.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>else</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//lastNameLength represents the current pointer of lastlength.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=logic-if-the-proposed-user-name-is-within-the-max-length>Logic if the proposed user name is within the max length<a href=#logic-if-the-proposed-user-name-is-within-the-max-length class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>If the username firstname.lastname is less than or equal to the <code>MAX_USERNAME_LENGTH</code>, check it for uniqueness against active directory. If it is not unique, check uniqueness with firstname.firstLetterOfLastName, firstname.secondLetterOfLastName, etc...</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//The full name is less than MAX_USERNAME_LENGTH minus 2 chars directly assign username to full name.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> fullName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>else</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//If the username was not unique with firstname.last name we then check uniqueness</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// with firstname.firstLetterOfLastName, firstname.secondLetterOfLastName e.t.c...</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=add-function-isunique-to-check-active-directory-for-username>Add function <code>isUnique()</code> to check active directory for username<a href=#add-function-isunique-to-check-active-directory-for-username class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>The <code>isUnique()</code> function takes the username as a string and uses the <code>accountExistsByDisplayName()</code> function from the ISCRuleUtil class to search Active Directory and return a true or false result, depending on whether the username is taken. The function takes an application name and username to test against. The variables <code>idn</code> and <code>application</code> are included as inputs to the attribute generator rule and are already initialized. Refer to <a href=/docs/extensibility/rules/cloud-rules/account-profile-attribute-generator#input>inputs</a> to see all inputs available to attribute generator rules.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> isUnique </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>throws</span><span class="token plain"> </span><span class="token class-name">GeneralException</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token plain">idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>accountExistsByDisplayName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">application</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=invoke-generateusername-with-the-identitys-first-and-last-name>Invoke <code>generateUsername()</code> with the Identity's first and last name<a href=#invoke-generateusername-with-the-identitys-first-and-last-name class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>This is the final part of the rule. Call the <code>generateUsername()</code> function, passing in the identity's first and last name. The <code>identity</code> variable is already initialized and included as input to our attribute generator rule.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>generateUsername</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getFirstname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getLastname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=the-complete-rule>The complete Rule<a href=#the-complete-rule class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>?</span><span class="token plain">xml version</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'1.0'</span><span class="token plain"> encoding</span><span class="token operator" style=color:#393A34>=</span><span class="token char">'UTF-8'</span><span class="token operator" style=color:#393A34>?</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token constant" style=color:#36acaa>DOCTYPE</span><span class="token plain"> </span><span class="token class-name">Rule</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>PUBLIC</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"sailpoint.dtd"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token class-name">Rule</span><span class="token plain"> name</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"ADUserNameGenerator"</span><span class="token plain"> type</span><span class="token operator" style=color:#393A34>=</span><span class="token string" style=color:#e3116c>"AttributeGenerator"</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Description</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token class-name">This</span><span class="token plain"> will generate a unique username </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> active directory</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Description</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">Source</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>[</span><span class="token constant" style=color:#36acaa>CDATA</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>tools</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">GeneralException</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">ArrayList</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>api</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">List</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>org</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>apache</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>commons</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>lang</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Global constant</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>generateUsername</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>trimToNull</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> firstName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            lastName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>trimToNull</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> lastName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> otherName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getStringAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"otherName"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">firstName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                lastName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">otherName </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                otherName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> otherName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>replaceAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"[^a-zA-Z0-9]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>||</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> lastName </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from generateADUsername method. No last name and other name for user"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// If other name is available then we are using firstname as other name</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>isEmpty</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">otherName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> otherName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// This will hold the final username;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Final first name and last name for user: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>" "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">lastName </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// This will hold the final username;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> fullName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token class-name">String</span><span class="token plain"> newUsername </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">fullName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> firstNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token comment" style=color:#999988;font-style:italic>//Checking if the firstname length is more than the MAX minus 2 chars.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token comment" style=color:#999988;font-style:italic>//If firstname is more then the MAX minus 2 we are picking MAX minus 2 characters from the firstname.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">firstNameLength </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token comment" style=color:#999988;font-style:italic>//lastNameLength represents the current pointer of lastlength.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>substring</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>MAX_USERNAME_LENGTH</span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token comment" style=color:#999988;font-style:italic>//If firstname is less than or equal to the MAX minus 2 chars then we are considering full firstname for username generation.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>else</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token comment" style=color:#999988;font-style:italic>//lastNameLength represents the current pointer of lastlength.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token comment" style=color:#999988;font-style:italic>//The full name is less than MAX_USERNAME_LENGTH minus 2 chars directly assign username to full name.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> fullName</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token keyword" style=color:#00009f>else</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token comment" style=color:#999988;font-style:italic>//If the username was not unique with firstname.last name we then check uniqueness</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token comment" style=color:#999988;font-style:italic>// with firstname.firstLetterOfLastName, firstname.secondLetterOfLastName e.t.c...</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>length</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"."</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> lastName</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>charAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">lastNameLength</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        username </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>toLowerCase</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUnique</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Unique username generated: "</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>+</span><span class="token plain">username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                finalUserName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                                </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> finalUserName </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method without generating username"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            log</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>debug</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AD Create User Name | Exit from the  GenerateADUsername Method"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> isUnique </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> username </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>throws</span><span class="token plain"> </span><span class="token class-name">GeneralException</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token plain">idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>accountExistsByDisplayName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">application</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> username</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>generateUsername</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getFirstname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getLastname</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token operator" style=color:#393A34>></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Source</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token operator" style=color:#393A34>&lt;</span><span class="token operator" style=color:#393A34>/</span><span class="token class-name">Rule</span><span class="token operator" style=color:#393A34>></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=validate-the-rule>Validate the Rule<a href=#validate-the-rule class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Before you send the rule to the professional services team to upload your rule to your tenant for use, you can send it through the rule validator to check for any errors.</p>
<p>Refer to <a href=https://community.sailpoint.com/t5/Professional-Services/IdentityNow-Rule-Validator/ta-p/166116 target=_blank rel="noopener noreferrer">Rule Validator</a> for installation.</p>
<p>Run the rule validator against your newly written rule.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">sp-rv </span><span class="token parameter variable" style=color:#36acaa>--file</span><span class="token plain"> ~/rules/Rule - AttributeGenerator - ADUserNameGenerator.xml</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span><span class=token-line style=color:#393A34><span class="token plain">SailPoint SaaS Rule Validator v3.0.26</span><br></span><span class=token-line style=color:#393A34><span class="token plain">By the SaaS Acceleration Team</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">c</span><span class="token punctuation" style=color:#393A34>)</span><span class="token number" style=color:#36acaa>2022</span><span class="token plain">-23 SailPoint Technologies Inc</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Command line arguments:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   </span><span class="token parameter variable" style=color:#36acaa>--file</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain">-f</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/Users/tyler.mairose/development/identitynow-services-config/devrel/devrel.identitynow.com/rules/Rule - AttributeGenerator - ADUserNameGenerator.xml"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Executed from: /Users/tyler.mairose/Downloads/sailpoint-saas-rule-validator-3.0.26</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Jar location </span><span class="token builtin class-name">:</span><span class="token plain"> /Users/tyler.mairose/Downloads/sailpoint-saas-rule-validator-3.0.26</span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span><span class=token-line style=color:#393A34><span class="token plain">File name    </span><span class="token builtin class-name">:</span><span class="token plain"> /Users/tyler.mairose/development/identitynow-services-config/devrel/devrel.identitynow.com/rules/Rule - AttributeGenerator - ADUserNameGenerator.xml</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Rule name    </span><span class="token builtin class-name">:</span><span class="token plain"> ADUserNameGenerator</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Process </span><span class="token function" style=color:#d73a49>date</span><span class="token plain"> </span><span class="token builtin class-name">:</span><span class="token plain"> Thu Jun 08 </span><span class="token number" style=color:#36acaa>17</span><span class="token plain">:22:53 EDT </span><span class="token number" style=color:#36acaa>2023</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">No errors found.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">Warnings: </span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Line </span><span class="token number" style=color:#36acaa>55</span><span class="token plain"> - </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">LintValidatorForStatement</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>31</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> For statement detected: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token string" style=color:#e3116c>"For Loops"</span><span class="token plain"> can cause issues when looping with incorrect </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions. Ensure Looping </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions are correct.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>55</span><span class="token plain">: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName .length </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength ++ </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Line </span><span class="token number" style=color:#36acaa>70</span><span class="token plain"> - </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">LintValidatorForStatement</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>31</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> For statement detected: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token string" style=color:#e3116c>"For Loops"</span><span class="token plain"> can cause issues when looping with incorrect </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions. Ensure Looping </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions are correct.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>70</span><span class="token plain">: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName .length </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength ++ </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Line </span><span class="token number" style=color:#36acaa>95</span><span class="token plain"> - </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">LintValidatorForStatement</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>31</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> For statement detected: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token builtin class-name">.</span><span class="token plain">  </span><span class="token string" style=color:#e3116c>"For Loops"</span><span class="token plain"> can cause issues when looping with incorrect </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions. Ensure Looping </span><span class="token builtin class-name">exit</span><span class="token plain"> conditions are correct.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>95</span><span class="token plain">: </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> int lastNameLength </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> lastName .length </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> lastNameLength ++ </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  Runtime stats:</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Started validation at Thu Jun 08 </span><span class="token number" style=color:#36acaa>17</span><span class="token plain">:22:53 EDT </span><span class="token number" style=color:#36acaa>2023</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"> Rules Analyzed</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>0</span><span class="token plain"> Errors</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token number" style=color:#36acaa>3</span><span class="token plain"> Warnings</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Finished validation at:  Thu Jun 08 </span><span class="token number" style=color:#36acaa>17</span><span class="token plain">:22:53 EDT </span><span class="token number" style=color:#36acaa>2023</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Process completed </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"> second.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span><span class=token-line style=color:#393A34><span class="token plain">Validation status: SUCCESS</span><br></span><span class=token-line style=color:#393A34><span class="token plain">________________________________________________________________________________</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=submit-for-rule-review>Submit for Rule review<a href=#submit-for-rule-review class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>To submit your Cloud Rule for review, approval, and inclusion in the SailPoint platform, submit a <a href=https://support.sailpoint.com/csm target=_blank rel="noopener noreferrer">SailPoint support portal request</a> or send an email to <code>support@sailpoint.com</code>. Attach the rule, validator output, tenant name (e.g., acme-sb.identitynow.com for sandbox or acme.identitynow.com for production) and approval for expert services to proceed. If you need assistance writing and testing rules, Expert Services can assist in that process as well. Make sure your contact information is up to date so the review team can contact you if they need to.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=add-rule-to-account-creation>Add Rule to account creation<a href=#add-rule-to-account-creation class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Log into your ISC tenant and navigate to <strong>Admin</strong> -> <strong>Connections</strong> -> <strong>Sources</strong> -> <strong>[Source Name]</strong> -> <strong>Accounts</strong> -> <strong>Create Account</strong>. Scroll to the attribute you wish to use the rule for generating the username. Check the generator radio button and pick your new rule from the drop down.</p>
<p><img decoding=async loading=lazy alt="Account Create" src=/assets/images/account-create-f4cb8bf58db8848acc7eff85fc160596.png width=951 height=315 class=img_ev3q></p>
<p>Now you can trigger an account creation and the attribute chosen will have its value generated by your rule.</div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/rules>Rules</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/guides>Guides</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/first>First</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/sailpoint-oss/developer.sailpoint.com/edit/main/docs/extensibility/rules/guides/your_first_rule.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Something wrong? Click here to edit this page.</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-07-16T17:23:00.000Z itemprop=dateModified>Jul 16, 2025</time></b> by <b>darrell-thobe-sp</b></span></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/extensibility/rules/guides><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Guides</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/extensibility/rules/cloud-rules><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Cloud Executed Rules</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#overview class="table-of-contents__link toc-highlight">Overview</a><li><a href=#attribute-generator-rule class="table-of-contents__link toc-highlight">Attribute generator Rule</a><li><a href=#username-requirements class="table-of-contents__link toc-highlight">Username requirements</a><ul><li><a href=#example-outputs class="table-of-contents__link toc-highlight">Example outputs</a></ul><li><a href=#write-the-rule class="table-of-contents__link toc-highlight">Write the Rule</a><ul><li><a href=#add-imports-and-generateusername-function class="table-of-contents__link toc-highlight">Add imports and generateUsername function</a><li><a href=#get-the-firstname-lastname-and-othername-attributes-and-sanitize-input class="table-of-contents__link toc-highlight">Get the firstName, lastName, and otherName attributes and sanitize input</a><li><a href=#logic-if-the-proposed-username-exceeds-the-max-length class="table-of-contents__link toc-highlight">Logic if the proposed username exceeds the max length</a><li><a href=#logic-if-the-proposed-user-name-is-within-the-max-length class="table-of-contents__link toc-highlight">Logic if the proposed user name is within the max length</a><li><a href=#add-function-isunique-to-check-active-directory-for-username class="table-of-contents__link toc-highlight">Add function <code>isUnique()</code> to check active directory for username</a><li><a href=#invoke-generateusername-with-the-identitys-first-and-last-name class="table-of-contents__link toc-highlight">Invoke <code>generateUsername()</code> with the Identity's first and last name</a></ul><li><a href=#the-complete-rule class="table-of-contents__link toc-highlight">The complete Rule</a><li><a href=#validate-the-rule class="table-of-contents__link toc-highlight">Validate the Rule</a><li><a href=#submit-for-rule-review class="table-of-contents__link toc-highlight">Submit for Rule review</a><li><a href=#add-rule-to-account-creation class="table-of-contents__link toc-highlight">Add Rule to account creation</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Identity Security Cloud</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/api/getting-started>Your first API call</a><li class=footer__item><a class=footer__link-item href=/docs/extensibility/transforms/guides/your-first-transform>Build a transform</a><li class=footer__item><a class=footer__link-item href=/docs/connectivity/saas-connectivity>Build a SaaS connector</a><li class=footer__item><a href=https://university.sailpoint.com/page/professional-certifications-and-knowledge-credentials target=_blank rel="noopener noreferrer" class=footer__link-item>Get certified<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>IdentityIQ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://documentation.sailpoint.com/identityiq/help/plugins/identityiq_plugins.html target=_blank rel="noopener noreferrer" class=footer__link-item>Build a plugin</a><li class=footer__item><a href=https://university.sailpoint.com/page/professional-certifications-and-knowledge-credentials target=_blank rel="noopener noreferrer" class=footer__link-item>Get certified<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.sailpoint.com/discuss target=_blank rel="noopener noreferrer" class=footer__link-item>Discuss</a><li class=footer__item><a href=https://developer-sailpoint.ideas.aha.io/ target=_blank rel="noopener noreferrer" class=footer__link-item>Submit an idea</a><li class=footer__item><a href="https://developer.sailpoint.com/discuss/new-message?groupname=developer_relations" target=_blank rel="noopener noreferrer" class=footer__link-item>Contact our team</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/sailpoint-oss target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/sailpoint target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.sailpoint.com/company/ target=_blank rel="noopener noreferrer" class=footer__link-item>The SailPoint story</a><li class=footer__item><a href=https://www.sailpoint.com/company/diversity-inclusion-and-belonging/ target=_blank rel="noopener noreferrer" class=footer__link-item>The SailPoint way</a><li class=footer__item><a href=https://www.sailpoint.com/company/#h-our-leadership target=_blank rel="noopener noreferrer" class=footer__link-item>Leadership team</a><li class=footer__item><a href=https://www.sailpoint.com/partners/become-partner/ target=_blank rel="noopener noreferrer" class=footer__link-item>Become a partner</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.sailpoint.com/discuss/tos target=_blank rel="noopener noreferrer" class=footer__link-item>Terms & conditions</a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://developer.sailpoint.com rel="noopener noreferrer" class=footerLogoLink_BH7S><img src=/img/SailPoint-Developer-Community-Lockup.png alt="SailPoint Developer Community Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/SailPoint-Developer-Community-Inverse-Lockup.png alt="SailPoint Developer Community Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class=footer__copyright>Copyright © 2025 SailPoint Technologies, Inc. All Rights Reserved.</div></div></div></footer></div>