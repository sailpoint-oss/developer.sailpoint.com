<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-extensibility/rules/rule-utility" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Using IdnRuleUtil as a wrapper for common Rule operations | SailPoint Developer Community</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true property=og:url content=https://developer.sailpoint.com><meta data-rh=true property=og:type content=website><meta data-rh=true property=og:image content=https://developer.sailpoint.com/img/SailPoint-Logo-OG.png><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true name=twitter:domain content=developer.sailpoint.com><meta data-rh=true name=twitter:url content=https://developer.sailpoint.com><meta data-rh=true name=twitter:title content="SailPoint Developer Community"><meta data-rh=true name=twitter:description content="The SailPoint Developer Community has everything you need to build, extend, and automate scalable identity solutions."><meta data-rh=true name=twitter:image content=https://developer.sailpoint.com/img/SailPoint-Logo-OG.png><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Using IdnRuleUtil as a wrapper for common Rule operations | SailPoint Developer Community"><meta data-rh=true name=description content="Using IdnRuleUtil as a Wrapper for Common Rule Operations"><meta data-rh=true property=og:description content="Using IdnRuleUtil as a Wrapper for Common Rule Operations"><meta data-rh=true name=keywords content=rule,utility><link data-rh=true rel=icon href=/img/SailPoint-Logo-Icon.ico><link data-rh=true rel=canonical href=https://developer.sailpoint.com/docs/extensibility/rules/rule-utility><link data-rh=true rel=alternate href=https://developer.sailpoint.com/docs/extensibility/rules/rule-utility hreflang=en><link data-rh=true rel=alternate href=https://developer.sailpoint.com/docs/extensibility/rules/rule-utility hreflang=x-default><link data-rh=true rel=preconnect href=https://TB01H1DFAM-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/","name":"Documentation","position":1},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility","name":"Extensibility","position":2},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility/rules","name":"Rules","position":3},{"@type":"ListItem","item":"https://developer.sailpoint.com/docs/extensibility/rules/rule-utility","name":"Identity Security Cloud Rule Utility","position":4}]}</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-KB3S9VMT")</script><script src=https://code.jquery.com/jquery-3.7.1.min.js async></script><link rel=stylesheet href=/assets/css/styles.22c283ba.css><script src=/assets/js/runtime~main.7600be63.js defer></script><script src=/assets/js/main.b310a7c2.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KB3S9VMT" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/SailPoint-Developer-Community-Lockup.png alt="SailPoint Developer Community" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/SailPoint-Developer-Community-Inverse-Lockup.png alt="SailPoint Developer Community" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Documentation</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs>Identity Security Cloud</a><li><a class=dropdown__link href=/docs/iiq>IdentityIQ</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>API specifications</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/api/v2025>Identity Security Cloud</a><li><a class=dropdown__link href=/docs/api/iiq>IdentityIQ</a><li><a class=dropdown__link href=/docs/api/nerm/v1>NERM</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Tools</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/tools/sdk>SDKs</a><li><a class=dropdown__link href=/docs/tools/cli>CLI</a><li><a class=dropdown__link href=/tools/escaping-tool-formatter>Escaping Tool Formatter</a><li><a class=dropdown__link href=/tools/json-path-evaluator>JSON Path Evaluator</a><li><a class=dropdown__link href=/docs/tools/rule-development-kit>Rule Development Kit</a><li><a class=dropdown__link href=/docs/tools/ui-development-kit>UI Development Kit</a><li><a class=dropdown__link href=/docs/tools/community-toolbox>Community Toolbox</a></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Community</a><ul class=dropdown__menu><li><a href=https://developer.sailpoint.com/discuss/ target=_blank rel="noopener noreferrer" class=dropdown__link>Developer forum</a><li><a class=dropdown__link href=/colab>CoLab marketplace</a><li><a class=dropdown__link href=/blog>Developer blog</a><li><a class=dropdown__link href=/ambassadors>Ambassador program</a></ul></div><a class="navbar__item navbar__link" href=/videos>Video library</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link>Support</a><ul class=dropdown__menu><li><a href="https://support.sailpoint.com/csm?id=sc_cat_item&sys_id=a78364e81bec151050bcc8866e4bcb5c&referrer=popular_items" target=_blank rel="noopener noreferrer" class=dropdown__link>Submit Support Ticket<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://community.sailpoint.com target=_blank rel="noopener noreferrer" class=dropdown__link>Compass<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li><a href=https://status.sailpoint.com/ target=_blank rel="noopener noreferrer" class=dropdown__link>Platform Status<svg width=12 height=12 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><a href=https://github.com/sailpoint-oss target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="SailPoint Open-source GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--active" href=/docs/>Documentation</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/extensibility>Extensibility</a><button aria-label="Collapse sidebar category 'Extensibility'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed transforms"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/transforms>Transforms</a><button aria-label="Expand sidebar category 'Transforms'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed mcp"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/mcp>MCP Server</a><button aria-label="Expand sidebar category 'MCP Server'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item rules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/extensibility/rules>Rules</a><button aria-label="Collapse sidebar category 'Rules'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed Rules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/rules/guides>Guides</a><button aria-label="Expand sidebar category 'Guides'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed cloudExecutedRules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/rules/cloud-rules>Cloud Executed Rules</a><button aria-label="Expand sidebar category 'Cloud Executed Rules'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed cloudExecutedRules"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/rules/connector-rules>Connector Executed Rules</a><button aria-label="Expand sidebar category 'Connector Executed Rules'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item ruleUtility"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/extensibility/rules/rule-utility>Identity Security Cloud Rule Utility</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/docs/extensibility/rules/java-docs>Java Docs</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed eventTriggers"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/event-triggers>Event Triggers</a><button aria-label="Expand sidebar category 'Event Triggers'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed Configuration Management"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/extensibility/configuration-management>Configuration Management</a><button aria-label="Expand sidebar category 'Configuration Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/connectivity>Connectivity</a><button aria-label="Expand sidebar category 'Connectivity'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tools>Tools</a><button aria-label="Expand sidebar category 'Tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/reporting>Reporting</a><button aria-label="Expand sidebar category 'Reporting'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/guides>Guides</a><button aria-label="Expand sidebar category 'Guides'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://documentation.sailpoint.com target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NnFM" tabindex=0>Product Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/><span>Documentation</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/extensibility><span>Extensibility</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/docs/extensibility/rules><span>Rules</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Identity Security Cloud Rule Utility</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using IdnRuleUtil as a wrapper for common Rule operations</h1></header><div class=row><div class="col col--12 markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Use this guide to learn how to configure searchable account attributes within Identity Security Cloud and then leverage them within the IdnRuleUtil wrapper class when searching accounts for attributes such as uniqueness checks. There are also methods in the IdnRuleUtil wrapper class you can use without the additional searchable attributes.</p>
<p>Search attributes allow you to search across accounts and sources to determine whether a specific attribute value is being used in your Identity Security Cloud environment.</p>
<p>There are three critical components involves with working with searchable attributes:</p>
<ul>
<li><a href=#configuration-of-search-attributes-within-identity-security-cloud>Configuration of search attributes within Identity Security Cloud</a>
<ul>
<li>Seed data for accounts already aggregated into the system.</li>
<li>Ensure attribute promotion happens for new/changed accounts that are aggregated.</li>
</ul>
</li>
<li><a href=#create-rules-that-can-be-used-to-query-the-newly-created-attribute-values>Create rules that can be used to query the newly created attribute values</a></li>
<li><a href=#implement-rules-within-the-create-profile-section-of-each-source-for-an-acount-is-being-provisioned-for>Implement rules within the Create Profile section of each source an account is being provisioned for</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=configuration-of-search-attributes-within-identity-security-cloud>Configuration of search attributes within Identity Security Cloud<a href=#configuration-of-search-attributes-within-identity-security-cloud class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>When you are planning to implement search attributes, it is important that you consider the way new accounts' values will be generated and which attributes should be used as references.</p>
<p>You need the following information to create search attributes:</p>
<ul>
<li>
<p>IDs for sources that will be searched.</p>
</li>
<li>
<p>Attribute name for each source that will be searched (such as mail, email, emailAddress).</p>
</li>
<li>
<p>Unique name for the new attribute that will become common to all accounts in the account search configuration (e.g., newMail, newEmail, newEmailAddress).</p>
</li>
<li>
<p>Display name for the new attribute configuration.</p>
</li>
</ul>
<p>The following example shows how to create a new attribute with the <a href=/docs/api/beta/create-search-attribute-config>Search Attributes API</a>:</p>
<p>Your company has two sources. The first is Active Directory, and the second is Workday. When the system aggregates new accounts, the company wants to query Identity Security Cloud to see whether an email address already exists. If the email address is not in use, you can assign it to the new account. If it is in use, you can iterate on the email address value (add a 1 for example). You can then query Identity Security Cloud once more to see whether your incremented email address is in use. You can repeat this procedure until you have determined that an email address is unique.</p>
<p>The following information is necessary to create your search attribute:</p>
<ul>
<li>
<p>IDs for sources that will be searched:</p>
<ul>
<li>Active Directory: <code>4028112837fe14c70177fe1955e9032c</code></li>
<li>Workday: <code>4028812877fa18c72177fs195baa0341</code></li>
</ul>
</li>
<li>
<p>Attribute name on each source that will be searched (such as mail, email, emailAddress):</p>
<ul>
<li>Active Directory: <code>mail</code></li>
<li>Workday: <code>emailAddress</code></li>
</ul>
</li>
<li>
<p>Unique name for the new attribute that will become common to all accounts in the account search configuration (e.g., newMail, newEmail, newEmailAddress):</p>
<ul>
<li><code>promotedEmailAddress</code></li>
</ul>
</li>
<li>
<p>Display name for the new attribute configuration:</p>
<ul>
<li><code>Promoted Email Address</code></li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=create-the-new-search-attribute-in-identity-security-cloud>Create the new search attribute in Identity Security Cloud<a href=#create-the-new-search-attribute-in-identity-security-cloud class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>To call the APIs for search attributes, you need a personal access token and the name of your tenant to provide with the request. To retrieve a personal access token, see <a href=/docs/api/authentication#generate-a-personal-access-token>Personal Access Tokens</a>. To get the name of your tenant, see <a href=/docs/api/getting-started#find-your-tenant-name>Finding Your Organization Tenant Name</a></p>
<p>Doing so creates an account search configuration for the two sources/attributes specified. All new/changed accounts that are aggregated have this new attribute(“promotedEmailAddress”) created in the account schema and the value of the attribute(“mail” or “emailAddress”), depending on the source, is promoted to that new attribute.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--location</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-g</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://{tenant}.api.identitynow.com/beta/accounts/search-attribute-config'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Authorization: Bearer {token}'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/json'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-raw </span><span class="token string" style=color:#e3116c>'{</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "name": "promotedEmailAddress",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "displayName": "Promoted Email Address",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "applicationAttributes":</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "4028112837fe14c70177fe1955e9032c": "mail",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "4028812877fa18c72177fs195baa0341": "emailAddress"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>}'</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>Aggregation only processes new and/or changed accounts for many sources. If an account is unchanged, an aggregation will not seed the new attribute or its value for this account. Therefore, it is mandatory that a non-optimized aggregation be performed when an account search configuration is created/modified for each source involved in that configuration.</div></div>
<p>If this source has already been aggregated before the account search configuration was created, a non-optimized aggregation must now be performed to seed the new attribute data for all existing accounts.</p>
<p>At this point, the configuration exists to promote attributes on any new/changed account that comes into Identity Security Cloud. These attributes and their associated values are stored for use in custom rules. Each account that exists on either of these sources will now have a new attribute called “promotedEmailAddress”. <em>The value of this attribute will be the value of <code>mail</code> if it is the Active Directory Source or <code>emailAddress</code> if it is the Workday source.</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=create-rules-that-can-be-used-to-query-the-newly-created-attribute-values>Create Rules that can be used to query the newly created attribute values<a href=#create-rules-that-can-be-used-to-query-the-newly-created-attribute-values class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>To access the promoted attribute data mentioned in the above section, you can use library methods that have been implemented to allow access to that data. There are two methods that have been implemented:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * Count the accounts that match the searchable attribute and value.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param sourceIds The list of application IDs that represent the sources of the data.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param attributeName  The name of the searchable account attribute. The name parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param operation The operation to use when matching, it will either be Operation.Equal OR Operation.StartsWith</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param values The value of that searchable attribute to math.  The value parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @return The number of accounts that match the parameters provided.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>attrSearchCountAccounts</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> sourceIds</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> values</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * Get the identity name for the account matching the specified criteria.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param sourceIds The list of application IDs that represent the sources of the data.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param attributeName  The name of the searchable account attribute. The name parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param operation The operation to use when matching. It will either be Operation.Equal OR Operation.StartsWith.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @param values The value of that searchable attribute to math.  The value parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * @return The name of the identity that matched the account that match the parameters provided.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>attrSearchGetIdentityName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> sourceIds</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> values</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Each of these utility library methods are loaded into the context that is available from within your custom rule. It can be accessed by appending the prefix “idn.” to the method call.</p>
<p>Example: You want to use the promoted attribute data to determine an email address's uniqueness before using it to provision a new account to one of the sources involved in the account search configuration. You can call these methods to determine that uniqueness.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>java</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>util</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>rule</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>org</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>apache</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>commons</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>lang</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">StringUtils</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">List</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>SOURCE_IDS</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Arrays</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>asList</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"4028112837fe14c70177fe1955e9032c"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>"4028812877fa18c72177fs195baa0341"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>PROMOTED_ATTR_NAME</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"promotedEmailAddress"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>SEARCH_OP</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"StartsWith"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic>//Can also use "Equals"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">List</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>SEARCH_VALUES</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">ArrayList</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Arrays</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>asList</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"jc@sailpoint.com"</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//return matching accounts</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>attrSearchCountAccounts</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>SOURCE_IDS</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>PROMOTED_ATTR_NAME</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>SEARCH_OP</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>SEARCH_VALUES</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token comment" style=color:#999988;font-style:italic>//In the event that the earlier call returns non-zero values, it is certain</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token comment" style=color:#999988;font-style:italic>//that an email value is already in use.  If it is required to</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token comment" style=color:#999988;font-style:italic>//know which identity owns the account with this value, you can call this method:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token comment" style=color:#999988;font-style:italic>//idn.attrSearchGetIdentityName(SOURCE_IDS, PROMOTED_ATTR_NAME, SEARCH_OP, SEARCH_VALUES));</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>Note that there are two method calls within the earlier example rule.</div></div>
<p>Calling the <em><code>idn.attrSearchCountAccounts()</code></em> method with both example source IDs causes a search of all accounts for a value “promotedEmailAddress=<a href=mailto:jc@sailpoint.com target=_blank rel="noopener noreferrer">jc@sailpoint.com</a>”. The search returns the count of accounts containing that attribute value pair.</p>
<p>If <em><code>idn.attrSearchCountAccounts()</code></em> returns non-zero, it may be useful to determine which identity owns the account(s) containing that value. The <em><code>idn.attrSearchGetIdentityName()</code></em> method will return that identity name.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=implement-rules-within-the-create-profile-section-of-each-source-for-an-acount-is-being-provisioned-for>Implement Rules within the create profile section of each source for an acount is being provisioned for<a href=#implement-rules-within-the-create-profile-section-of-each-source-for-an-acount-is-being-provisioned-for class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Create Profile can be found at <strong>Admin</strong> > <strong>Connections</strong> > <strong>Source</strong> > <code>SourceName</code> > <strong>Accounts</strong> > <strong>Create Profile</strong></p>
<p>You can invoke rules in different ways, but one of the most common implementations involves binding it to the Create Profile. This results in the rule's being used to generate/check the values used during new account provisioning.</p>
<p>When a <code>Generator</code> is selected for the <code>distinguishedName</code> attribute, a rule that invokes the provided library methods can be selected. This is an example of such a scenario:</p>
<p>Through a lifecycle state change, an account needs to be provisioned to an Active Directory source.</p>
<p>When the provisioning plan is created, the rule that generates the value for <code>distinguishedName</code> is called. The rule invokes the library methods mentioned earlier to determine the uniqueness of the attribute. In this case it may do the following:</p>
<p>Call <em><code>idn.attrSearchCountAccounts()</code></em> to determine whether any other accounts are using first.last as a distinguishedName. If a count of 1 or more is returned, the call can be retried with first.last+1. The call is repeated until a zero is returned. At that point, the value is unique and can be used. The value is returned to the calling rule.</p>
<p>In some cases where a non zero value is returned, it may be useful to know which identity owns the account that value belongs to. To find out this information, call <em><code>idn.attrSearchGetIdentityName()</code></em> to determine the identity in question.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=idnruleutiljava-descriptors>IdnRuleUtil.java descriptors<a href=#idnruleutiljava-descriptors class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>Both the normal SailPoint context passed into the Beanshell rule evaluation and the new IdnRuleUtil referenced here include an "Identity" class:<p>The SailPoint context Identity class is provided via <code>sailpoint.object.Identity</code> The IdnRuleUtil Identity class is provided via <code>sailpoint.rule.Identity</code> When referencing an Identity class, you must be explicit as to which Identity class you are using to avoid a namespace conflict. For example:</div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token class-name namespace" style=opacity:0.7>sailpoint</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name namespace" style=opacity:0.7>object</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name">Identity</span><span class="token plain"> identity </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> plan</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getIdentity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> sAMAccountName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"adUsername"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name namespace" style=opacity:0.7>sailpoint</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name namespace" style=opacity:0.7>rule</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name">Identity</span><span class="token plain"> foundIdentity </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getIdentityById</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"uid"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> email </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> foundIdentity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getEmail</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<p>The below section provides a full accounting of the methods available to rule writers using the IdnRuleUtil class:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * Utility class containing methods customers can use within rules to perform common tasks.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * IdnRuleUtil is available in rules as "idn" variable, e.g. "idn.countAccounts("someAppId")".</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * This utility class allows you to abstract out the use of SailPointContext in rules so you can one day not pass a</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> * context to the rule at all.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Application</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Attributes</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Filter</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Link</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">LinkExternalAttribute</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">ManagedAttribute</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>object</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">QueryOptions</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>rule</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Account</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>rule</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">ManagedAttributeDetails</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>rule</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">RuleObjectFactory</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>tools</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">GeneralException</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token import namespace" style=opacity:0.7>sailpoint</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import namespace" style=opacity:0.7>tools</span><span class="token import namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token import class-name">Util</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>class</span><span class="token plain"> </span><span class="token class-name">IdnRuleUtil</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Determines whether an account currently exists on an application using the native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return True if the account exists, false otherwise.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>accountExistsByNativeIdentity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Determines if an account currently exists on an application using the display name.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param displayName The account's display name.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return True if the account exists, false otherwise.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>accountExistsByDisplayName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> displayName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets an account on an application using the native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The account or null if not found. If more than one is found, the first</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *         account in the exists is returned.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">Account</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountByNativeIdentity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets an account on an application using the display name.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param displayName The account's display name.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The account or null if not found. If more than one is found, the first</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *         account in the exists is returned.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">Account</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountByDisplayName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> displayName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Get the first account for the application and identityName and return the first account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param identityName The identity name.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return The first link's nativeIdentity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getFirstAccountNativeIdentity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> identityName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Counts the number of accounts on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The total number of accounts.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>countAccounts</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or null if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">Object</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getRawAccountAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param account The account on the application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or null if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">Object</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getRawAccountAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Account</span><span class="token plain"> account</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the string value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or null if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the string value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param account The account on the application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or null if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">     </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Account</span><span class="token plain"> account</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the boolean value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or false if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttributeBool</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the boolean value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param account The account on the application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or false if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttributeBool</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Account</span><span class="token plain"> account</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Count the accounts that match the searchable attribute and value.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param sourceIds The list of application IDs that represent the sources of the data.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attributeName  The name of the searchable account attribute. The name parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param operation The operation to use when matching. It will either be Operation.Equal OR Operation.StartsWith.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param values The list of values of the searchable attribute to match. The values parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The number of accounts matching the parameters provided.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws IllegalStateException wrapping underlying errors</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>attrSearchCountAccounts</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> sourceIds</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> values</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Get the identity name for the account matching the specified criteria.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param sourceIds The list of application IDs that represent the sources of the data</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attributeName  The name of the searchable account attribute. The name parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param operation The operation to use when matching. It will either be Operation.Equal OR Operation.StartsWith.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param values The list of values of the searchable attribute to match. The values parameter is required.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The name of the Identity that matched the account, matching the parameters provided.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws IllegalStateException wrapping underlying errors</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>attrSearchGetIdentityName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> sourceIds</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> values</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the int value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param applicationName The application name, this is typically in the format of "appName [source]". Can be pulled via application.getName()</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param nativeIdentity The account's native identity.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or zero if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttributeInt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Gets the int value of an attribute from an account on an application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param account The account on the application.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param attribute The name of the attribute to retrieve.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return The attribute value or zero if the attribute does not exist.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getAccountAttributeInt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">Account</span><span class="token plain"> account</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * Finds the ManagedAttribute description by provided sourceId/name/value/type.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param sourceId The sourceId used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param name The name of the attribute used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param value The value of the attribute used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @param type The type of attribute used to query the ManagedAttribute (see enum ManagedAttribute.Type).</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     *             Defaults to Entitlement (if null provided).</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @return ManagedAttribute's description if found or else null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>     */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getManagedAttributeDescription</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> sourceId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">ManagedAttribute</span><span class="token class-name punctuation" style=color:#393A34>.</span><span class="token class-name">Type</span><span class="token plain"> type</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Finds the ManagedAttribute by sourceId/name/value/type and returns its details in ManagedAttributeDetails model.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param sourceId The sourceId used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param name The name of the attribute used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param value The value of the attribute used to query the ManagedAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param type The type of attribute used to query the ManagedAttribute (see enum ManagedAttribute.Type).</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Defaults to Entitlement (if null provided).</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return ManagedAttributeDetails if found or else null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @throws GeneralException wrapping underlying DB related errors.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">ManagedAttributeDetails</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getManagedAttributeDetails</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> sourceId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">ManagedAttribute</span><span class="token class-name punctuation" style=color:#393A34>.</span><span class="token class-name">Type</span><span class="token plain"> type</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Fetch an identity by the internal ID.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param id The ID to use when fetching an identity object</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return A DTO representing the Identity. It will throw if the identity is not found.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name namespace" style=opacity:0.7>sailpoint</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name namespace" style=opacity:0.7>rule</span><span class="token class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token class-name">Identity</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>getIdentityById</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> id</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Find and return the users that match the incoming attributeName, operation, value ordered by</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * the specified sortAttribute.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param attributeName The attribute to be searched. It must be searchable and non-null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param operation The operation to be used when searching. It only allows Equals and StartsWith.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param value The value to match. It must be non-null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param sortAttribute The attribute to be used when sorting.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Default ordering is on uid if it is not specified and this also must be searchable.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Sort is always be in ascending order.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return The list of users matching the passed in parameters. The max number of returned values is limited to 50.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @throws IllegalStateException when attribute provided is not searchable,</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * when the operation is not StartsWith or Equals,</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * the sortAttribute is not searchable,</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * or if there are issues during the search.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @see #EQUALS_FILTER</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @see #STARTS_WITH_FILTER</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style=color:#393A34>&lt;</span><span class="token generics class-name namespace" style=opacity:0.7>sailpoint</span><span class="token generics class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token generics class-name namespace" style=opacity:0.7>rule</span><span class="token generics class-name namespace punctuation" style=opacity:0.7;color:#393A34>.</span><span class="token generics class-name">Identity</span><span class="token generics punctuation" style=color:#393A34>></span><span class="token plain"> </span><span class="token function" style=color:#d73a49>findIdentitiesBySearchableIdentityAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> sortAttribute</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Count and return the number of users matching the incoming attributeName, operation and value.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param attributeName The attribute to be searched. It must be searchable and non-null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param operation The operation to be used when searching. It only allows Equals and StartsWith.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param value The value to match. It must be non-null.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return The number of identities matching the parameters.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @throws IllegalStateException when attribute provided is not searchable,</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * when the operation is not StartsWith or Equals,</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * or if there are issues during the count operation.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @see #EQUALS_FILTE</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @see #STARTS_WITH_FILTER</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>countIdentitiesBySearchableIdentityAttribute</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> operation</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>/**</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Use this method to call LDAP type connectors to look for</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * unique values. This method calls the connector with a specific search filter</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * based on the attributeName and value passed into the method.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * Any returned value is considered non-unique.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param identityNameOrId The name or ID of the identity you are using</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param applicationNameOrId The name or ID of the source you are targeting</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param attributeName The name of the attribute you want to validate</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @param attributeValue The value of the attribute you want to validate</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * @return true if the value is unique AND false otherwise. If the application or identity can't be found, an</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    * IllegalStateException will be thrown.</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    *</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>    */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>isUniqueLDAPValue</span><span class="token punctuation" style=color:#393A34>(</span><span class="token class-name">String</span><span class="token plain"> identityNameOrId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> applicationNameOrId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> attributeValue</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=example-usage>Example usage<a href=#example-usage class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=get-an-entitlement-description>Get an entitlement description<a href=#get-an-entitlement-description class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//IdnRuleUtil is available in rules as the "idn" variable, which you can use the same way you can currently use context.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * In Before Provisioning rules (where this will likely be used), the source being provisioned to</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * is passed in by the "application" variable. You can use this to get sourceId using application.getId().</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * e.g. String sourceId = application.getId();</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> entitlementDescription </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getManagedAttributeDescription</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sourceId</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> attributeValue</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">Type</span><span class="token class-name punctuation" style=color:#393A34>.</span><span class="token class-name">Entitlement</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=check-whether-an-accountid-is-unique>Check whether an accountID is Unique<a href=#check-whether-an-accountid-is-unique class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//IdnRuleUtil is available in rules as the "idn" variable, which you can use the same way you can currently use context.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/*</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * In Attribute Generator rules (where this will likely be used), the source being provisioned to</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * is passed in by the "application" variable. You can use this to get applicationName using application.getName().</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>  * e.g. String applicationName = application.getName();</span><br></span><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>*/</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>boolean</span><span class="token plain"> exists </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>accountExistsByNativeIdentity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">applicationName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> nativeIdentity</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=get-the-name-of-the-identity-matching-a-specific-account-search-result>Get the name of the Identity matching a specific account search result<a href=#get-the-name-of-the-identity-matching-a-specific-account-search-result class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//IdnRuleUtil is available in rules as the "idn" variable, which you can use the same way you can currently use context.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> identityName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>attrSearchGetIdentityName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">sourceIdsAsList</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> attributeName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token class-name">Operation</span><span class="token class-name punctuation" style=color:#393A34>.</span><span class="token class-name">Equal</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> valuesToMatchAsList</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=get-multiple-attributes-from-the-first-account-retreived-from-a-source>Get multiple attributes from the first account retreived from a source<a href=#get-multiple-attributes-from-the-first-account-retreived-from-a-source class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-java codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//IdnRuleUtil is available in rules as the "idn" variable, which you can use the same way you can currently use context.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//Account objects are used with the import statement import sailpoint.rule.Account;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">Account</span><span class="token plain"> acct </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> idn</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getFirstAccount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"HR [source]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> identity</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">Map</span><span class="token plain"> acctAttrs </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> acct</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getAttributes</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> firstName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> acctAttrs</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>get</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"First Name"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> lastName </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> acctAttrs</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>get</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"Last Name"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div></div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/docs/tags/rules>Rules</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/sailpoint-oss/developer.sailpoint.com/edit/main/docs/extensibility/rules/idn_rule_utility.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Something wrong? Click here to edit this page.</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-05-08T16:25:53.000Z itemprop=dateModified>May 8, 2025</time></b> by <b>darrell-thobe-sp</b></span></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/extensibility/rules/connector-rules/webservices-before-provisioning-rule><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Web Services Before Operation Rule</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/extensibility/rules/java-docs><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Java Docs</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#overview class="table-of-contents__link toc-highlight">Overview</a><li><a href=#configuration-of-search-attributes-within-identity-security-cloud class="table-of-contents__link toc-highlight">Configuration of search attributes within Identity Security Cloud</a><ul><li><a href=#create-the-new-search-attribute-in-identity-security-cloud class="table-of-contents__link toc-highlight">Create the new search attribute in Identity Security Cloud</a></ul><li><a href=#create-rules-that-can-be-used-to-query-the-newly-created-attribute-values class="table-of-contents__link toc-highlight">Create Rules that can be used to query the newly created attribute values</a><li><a href=#implement-rules-within-the-create-profile-section-of-each-source-for-an-acount-is-being-provisioned-for class="table-of-contents__link toc-highlight">Implement Rules within the create profile section of each source for an acount is being provisioned for</a><li><a href=#idnruleutiljava-descriptors class="table-of-contents__link toc-highlight">IdnRuleUtil.java descriptors</a><li><a href=#example-usage class="table-of-contents__link toc-highlight">Example usage</a><ul><li><a href=#get-an-entitlement-description class="table-of-contents__link toc-highlight">Get an entitlement description</a><li><a href=#check-whether-an-accountid-is-unique class="table-of-contents__link toc-highlight">Check whether an accountID is Unique</a><li><a href=#get-the-name-of-the-identity-matching-a-specific-account-search-result class="table-of-contents__link toc-highlight">Get the name of the Identity matching a specific account search result</a><li><a href=#get-multiple-attributes-from-the-first-account-retreived-from-a-source class="table-of-contents__link toc-highlight">Get multiple attributes from the first account retreived from a source</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Identity Security Cloud</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/api/getting-started>Your first API call</a><li class=footer__item><a class=footer__link-item href=/docs/extensibility/transforms/guides/your-first-transform>Build a transform</a><li class=footer__item><a class=footer__link-item href=/docs/connectivity/saas-connectivity>Build a SaaS connector</a><li class=footer__item><a href=https://university.sailpoint.com/page/professional-certifications-and-knowledge-credentials target=_blank rel="noopener noreferrer" class=footer__link-item>Get certified<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>IdentityIQ</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://documentation.sailpoint.com/identityiq/help/plugins/identityiq_plugins.html target=_blank rel="noopener noreferrer" class=footer__link-item>Build a plugin</a><li class=footer__item><a href=https://university.sailpoint.com/page/professional-certifications-and-knowledge-credentials target=_blank rel="noopener noreferrer" class=footer__link-item>Get certified<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.sailpoint.com/discuss target=_blank rel="noopener noreferrer" class=footer__link-item>Discuss</a><li class=footer__item><a href=https://developer-sailpoint.ideas.aha.io/ target=_blank rel="noopener noreferrer" class=footer__link-item>Submit an idea</a><li class=footer__item><a href="https://developer.sailpoint.com/discuss/new-message?groupname=developer_relations" target=_blank rel="noopener noreferrer" class=footer__link-item>Contact our team</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/sailpoint-oss target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://twitter.com/sailpoint target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.sailpoint.com/company/ target=_blank rel="noopener noreferrer" class=footer__link-item>The SailPoint story</a><li class=footer__item><a href=https://www.sailpoint.com/company/diversity-inclusion-and-belonging/ target=_blank rel="noopener noreferrer" class=footer__link-item>The SailPoint way</a><li class=footer__item><a href=https://www.sailpoint.com/company/#h-our-leadership target=_blank rel="noopener noreferrer" class=footer__link-item>Leadership team</a><li class=footer__item><a href=https://www.sailpoint.com/partners/become-partner/ target=_blank rel="noopener noreferrer" class=footer__link-item>Become a partner</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://developer.sailpoint.com/discuss/tos target=_blank rel="noopener noreferrer" class=footer__link-item>Terms & conditions</a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://developer.sailpoint.com rel="noopener noreferrer" class=footerLogoLink_BH7S><img src=/img/SailPoint-Developer-Community-Lockup.png alt="SailPoint Developer Community Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/SailPoint-Developer-Community-Inverse-Lockup.png alt="SailPoint Developer Community Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class=footer__copyright>Copyright © 2025 SailPoint Technologies, Inc. All Rights Reserved.</div></div></div></footer></div>