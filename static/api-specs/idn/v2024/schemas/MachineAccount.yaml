allOf:
  - $ref: './BaseCommonDto.yaml'
  - type: object
    required:
      - nativeIdentity
      - classificationMethod
      - connectorAttributes
      - manuallyEdited
      - locked
      - enabled
      - hasEntitlements
      - source
    properties:
      description:
        type: string
        description: A description of the machine account
        nullable: true
        example: Service account for Active Directory
      nativeIdentity:
        type: string
        description: The unique ID of the machine account generated by the source system
        example: "552775"
      uuid:
        type: string
        description:
          The unique ID of the account as determined by the account schema
        example: "{b0dce506-d6d4-44d2-8a32-d9a5b21fb175}"
        nullable: true
      classificationMethod:
        description: Classification Method
        type: string
        enum:
          - SOURCE
          - CRITERIA
          - DISCOVERY
          - MANUAL
        example: SOURCE
      machineIdentity:
        description: The machine identity this account is associated with
        example:
          id: "1540e5a4-6c2e-4bf1-b88e-c08cae0696e9"
          type: "MACHINE_IDENTITY"
          name: "SVC_ADService"
      ownerIdentity:
        description: The identity who owns this account.
        nullable: true
        example:
          id: "2c918084660f45d6016617daa9210584"
          type: "IDENTITY"
          name: "Adam Kennedy"
      accessType:
        type: string
        example: direct
        description: The connection type of the source this account is from
      subtype:
        type: string
        nullable: true
        example: null
        description: The sub-type
      environment:
        type: string
        nullable: true
        example: TEST
        description: Environment
      attributes:
        type: object
        nullable: true
        additionalProperties: true
        description: Custom attributes specific to the machine account
        example:
          firstName: "SailPoint"
          lastName: "Support"
          displayName: "SailPoint Support"
      connectorAttributes:
        type: object
        nullable: true
        additionalProperties: true
        description: The connector attributes for the account
        example:
          mail: "machine-178@sailpoint.com"
          givenName : "Support"
          displayName: "SailPoint Support"
      manuallyCorrelated:
        type: boolean
        description:
          Indicates if the account has been manually correlated to an identity
        default: false
        example: true
      manuallyEdited:
        type: boolean
        description:
          Indicates if the account has been manually edited
        default: false
        example: true
      locked:
        type: boolean
        description: Indicates if the account is currently locked
        example: false
      enabled:
        type: boolean
        description: Indicates if the account is enabled
        default: false
        example: false
      hasEntitlements:
        type: boolean
        description:
          Indicates if the account has entitlements
        default: true
        example: false
      source:
        description: The source this machine account belongs to.
        example:
          id: "8d3e0094e99445de98eef6c75e25jc04"
          type: "SOURCE"
          name: "Active Directory"
