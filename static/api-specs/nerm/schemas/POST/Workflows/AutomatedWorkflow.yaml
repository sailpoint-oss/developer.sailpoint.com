type: object
required:
  - profile_type_id
  - status
  - uid
  - name
  - condition_rules_attributes
properties:
  profile_type_id:
    type: string
    format: uuid
    description: The profile type the workflow effects.
    example: 33f072dd-13b4-41e1-8ea0-16f2a59b57c8
  status:
    type: string
    enum: [Enabled, Disabled]
    description: Whether or not the workflow is enabled or disabled.
    example: Enabled
  uid:
    type: string
    description: The user-specified identifier of the workflow.
    example: my_uid
  name:
    type: string
    description: Name of the workflow
    example: my_workflow
  condition_rules_attributes:
    type: array
    description: The ProfileTypeRule this workflow will be working with.
    items:
      type: object
      required:
        - logical_operator
        - comparison_operator
        - condition_object_type
        - type
      properties:
        logical_operator:
          type: string
          enum: ["AND", "OR"]
          description: The type of condition rule.
          example: "AND"
        comparison_operator:
          type: string
          enum: ["<", ">", "==", "before", "include?", "absent?", "after"]
          description: The operator used by the condition rule.
          example: "=="
        condition_object_id:
          type: string
          format: uuid
          description: UUID for object targeted by the condition.
          example: "cc844e99-9895-43d0-9d17-8f606b2158ba"
        condition_object_type:
          type: string
          description: Type of object targeted by the condition.
          example: "DateAttribute"
        secondary_value:
          type: string
          description: Used for time_frame comparison.
          example: "before"
        tertiary_value:
          type: string
          description: Represents the days of a temporal comparison.
          example: "before"
        value:
          type: string
          description: The value being compared against.
          example: "true"
        order:
          type: integer
          format: int32
          description: If there are multiple rules against one workflow, this is the order that they are ran in.
          example: 1
        type:
          type: string
          enum:
            - "RiskRule"
            - "ProfileIdRule"
            - "ProfileTypeRule"
            - "ProfileExistsRule"
            - "ProfileStatusRule"
            - "SessionAttributeRule"
            - "ProfileAttributeRule"
            - "ProfileDoesNotExistRule"
            - "IdentityProofingRule"
          description: The type of condition rule.
          example: "ProfileTypeRule"
    example:
      - type: "ProfileTypeRule"
        condition_object_type: "DateAttribute"
        comparison_operator: "=="
        logical_operator: "AND"
        value: "true"
